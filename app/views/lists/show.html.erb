<div class="list-banner" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(https://miro.medium.com/v2/resize:fit:2000/format:webp/1*QIGSyZy_l3H-vJ61xvLTbQ.jpeg">
  <h2>
  <%= @list.name%>
  </h2>
</div>

<div class ="container mb-5">
  <div class="card-grid d-flex justify-content-between my-4">
    <span class="mb-2 d-block"><small><em class="text-muted"><%= "You haven't saved any movies yet!" if @list.movies.empty? %></em></small></span>
    <div>
      <button type="button" class="btn btn-flat" data-bs-toggle="modal" data-bs-target="#new_movie_modal">
        add a movie
      </button>
      <%= link_to "delete this list", list_path(@list), class: "btn btn-cancel", data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this list?" } %>
    </div>
  </div>
<div class="card-movie row my-2">
  <% @list.bookmarks.each do |bookmark| %>
  <img src="<%= bookmark.movie.poster_url %>" class="card-movie-img">
  <div class="card-movie-infos col-12 col-sm-6 mb-4">
  <div>
  <h2><%= bookmark.movie.title %> - <%= bookmark.movie.rating %></h2>
  <p><%= bookmark.movie.overview %></p>
  <p><%= bookmark.comment%></p>
  <div>
  <%= link_to 'Delete', bookmark_path(bookmark),
  data: {turbo_method: :delete, turbo_confirm: 'Are you sure?'} %>
  </div>
  </div>
  </div>
  <% end %>
  </div>
</div>

<hr class="solid">

<div class = 'container'>
  <h2> Add a movie (bookmark) </h2>
  <%= simple_form_for([@list, @bookmark]) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

  <div class="form-inputs">
    <%= f.association :movie %>
    <%= f.input :comment %>
  </div>

  <div class="form-actions">
    <%= f.button :submit, "Submit" %>
  </div>
  <% end %>
</div>

<hr class="solid">

<div class = 'container'>
  <h3> Add your review </h3>
  <%= simple_form_for([@list, @bookmark]) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

  <div class="form-inputs">
    <%= f.input :comment %>
  </div>

  <div class="form-actions">
    <%= f.button :submit, "Submit" %>
  </div>
  <% end %>
</div>

<div>
  <%= link_to "Add a movie", new_list_bookmark_path(@list) %> |
  <%= link_to "Add a new list", new_list_path(@list) %> |
  <%= link_to "Back to lists", lists_path %>
</div>

<div>
